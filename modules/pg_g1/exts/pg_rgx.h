#ifndef PG_RGX_H
#define PG_RGX_H

#include "core/object/object.h"
#include "core/object/ref_counted.h"
#include "modules/pg_g1/data/pg_macros.h"
#include "modules/pg_g1/types/pg_typedefs.h"


//////////////////////////////////////////////////
//////////////////////////////////////////////////


class PG_Msgr;


class RegEx;

template <typename K, typename V>
class VMap;


//////////////////////////////////////////////////
//////////////////////////////////////////////////


class PG_Rgx : public Object {
	GDCLASS(PG_Rgx, Object);
	PG_BIND;


//////////////////////////////////////////////////


protected:
	static Ref<PG_Msgr> _msgr;


public:
	static void set_msgr(Ref<PG_Msgr> msgr);


//////////////////////////////////////////////////


protected:
	static VMap<SN, Ref<RegEx>> _rgxs;


//////////////////////////////////////////////////


public:
	static Ref<RegEx> mk(Str ptrn);


//////////////////////////////////////////////////


public:
	static bool has(SN k, Str st);

	static Ref<RegEx> get(SN k);

	static Str sub(SN k, Str st, Str c);


//////////////////////////////////////////////////

	
public:
	static void _init();
};


//////////////////////////////////////////////////
//////////////////////////////////////////////////


#endif // PG_RGX_H
