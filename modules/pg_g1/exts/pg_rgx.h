#ifndef PG_RGX_H
#define PG_RGX_H

#include "core/object/object.h"
#include "core/object/ref_counted.h"
#include "modules/pg_g1/data/pg_macros.h"


//////////////////////////////////////////////////
//////////////////////////////////////////////////


class RegEx;
class String;
class StringName;

template <typename K, typename V>
class VMap;

class PG_Msgr;


//////////////////////////////////////////////////
//////////////////////////////////////////////////


class PG_Rgx : public Object {
	GDCLASS(PG_Rgx, Object);
	PG_BIND;


//////////////////////////////////////////////////


protected:
	static Ref<PG_Msgr> _msgr;


public:
	static void set_msgr(Ref<PG_Msgr> msgr);


//////////////////////////////////////////////////


protected:
	static VMap<StringName, Ref<RegEx>> _rgxs;


//////////////////////////////////////////////////


public:
	static Ref<RegEx> mk(String ptrn);


//////////////////////////////////////////////////


public:
	static bool has(StringName k, String st);

	static Ref<RegEx> get(StringName k);

	static String sub(StringName k, String st, String c);


//////////////////////////////////////////////////

	
public:
	static void _init();
};


//////////////////////////////////////////////////
//////////////////////////////////////////////////


#endif // PG_RGX_H
